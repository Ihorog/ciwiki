# CIT Voice - Quick Start Guide

## –®–≤–∏–¥–∫–∏–π –∑–∞–ø—É—Å–∫ –∑–∞ 5 —Ö–≤–∏–ª–∏–Ω

### 1. –í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è –∑–∞–ª–µ–∂–Ω–æ—Å—Ç–µ–π

```bash
pip install -r requirements.txt
```

### 2. –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è Telegram Bot

#### –ö—Ä–æ–∫ 1: –°—Ç–≤–æ—Ä—ñ—Ç—å –±–æ—Ç–∞
1. –ó–Ω–∞–π–¥—ñ—Ç—å [@BotFather](https://t.me/BotFather) –≤ Telegram
2. –ù–∞–¥—ñ—à–ª—ñ—Ç—å: `/newbot`
3. –í–≤–µ–¥—ñ—Ç—å –Ω–∞–∑–≤—É: `CIT Voice Bot`
4. –í–≤–µ–¥—ñ—Ç—å username: `cit_voice_bot` (–º–∞—î –±—É—Ç–∏ —É–Ω—ñ–∫–∞–ª—å–Ω–∏–º)
5. –ó–±–µ—Ä–µ–∂—ñ—Ç—å **Bot Token**

#### –ö—Ä–æ–∫ 2: –û—Ç—Ä–∏–º–∞–π—Ç–µ Chat ID
–î–ª—è –æ—Å–æ–±–∏—Å—Ç–æ–≥–æ —á–∞—Ç—É:
```bash
# –ù–∞–ø–∏—à—ñ—Ç—å –±–æ—Ç—É –±—É–¥—å-—è–∫–µ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è, –ø–æ—Ç—ñ–º:
curl https://api.telegram.org/bot<YOUR_BOT_TOKEN>/getUpdates

# –ó–Ω–∞–π–¥—ñ—Ç—å "chat":{"id":12345678} –≤ –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ
```

### 3. –°—Ç–≤–æ—Ä—ñ—Ç—å –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—é

```bash
cp .env.example .env
nano .env  # –∞–±–æ –±—É–¥—å-—è–∫–∏–π —ñ–Ω—à–∏–π —Ä–µ–¥–∞–∫—Ç–æ—Ä
```

–ú—ñ–Ω—ñ–º–∞–ª—å–Ω–∞ –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è –≤ `.env`:
```
TELEGRAM_BOT_TOKEN=123456789:ABCdefGHIjklMNOpqrsTUVwxyz
TELEGRAM_CHAT_ID=123456789
```

### 4. –ó–∞–ø—É—Å—Ç—ñ—Ç—å —Ç–µ—Å—Ç

```bash
python test_cit_voice.py
```

–û—á—ñ–∫—É–≤–∞–Ω–∏–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç - –≤–∏–≤–µ–¥–µ–Ω–Ω—è –≤—Å—ñ—Ö —Ç–µ—Å—Ç–æ–≤–∏—Ö –ø–æ–¥—ñ–π –∑ –ø—Ä–∞–≤–∏–ª—å–Ω–æ—é –∫–ª–∞—Å–∏—Ñ—ñ–∫–∞—Ü—ñ—î—é.

### 5. –ó–∞–ø—É—Å—Ç—ñ—Ç—å —Å–∏—Å—Ç–µ–º—É

```bash
python cit_voice.py
```

### 6. –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ —Ä–æ–±–æ—Ç—É

–£ Telegram –Ω–∞–¥—ñ—à–ª—ñ—Ç—å –±–æ—Ç—É:
```
/start
/status
```

## –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è —ñ–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—ó

### –ì–µ–Ω–µ—Ä–∞—Ü—ñ—è —Ç–µ—Å—Ç–æ–≤–æ—ó –ø–æ–¥—ñ—ó

–°—Ç–≤–æ—Ä—ñ—Ç—å —Ñ–∞–π–ª `send_test_event.py`:

```python
import asyncio
import os
from dotenv import load_dotenv
from core.voice_engine import VoiceEngine
from integrations.telegram_bot import TelegramNotifier

load_dotenv()

async def send_test():
    engine = VoiceEngine("core/ontology.json", "public/manifest.json")
    notifier = TelegramNotifier(
        bot_token=os.getenv('TELEGRAM_BOT_TOKEN'),
        chat_id=os.getenv('TELEGRAM_CHAT_ID')
    )
    engine.register_handler(notifier)
    
    # –í—ñ–¥–ø—Ä–∞–≤–∫–∞ —Ç–µ—Å—Ç–æ–≤–æ—ó –ø–æ–¥—ñ—ó —Ä—ñ–≤–Ω—è 11
    await engine.emit_intent_event({
        'description': '–¢–µ—Å—Ç–æ–≤–∞ –ø–æ–¥—ñ—è –≤—ñ–¥ —Å–∏—Å—Ç–µ–º–∏',
        'action': '–ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ —Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—å–Ω—ñ—Å—Ç—å',
        'module': 'TestModule',
        'goal': '–ø–µ—Ä–µ–≤—ñ—Ä–∫—É —Ä–æ–±–æ—Ç–∏ —Å–∏—Å—Ç–µ–º–∏'
    })
    
    # –î–∞—Ç–∏ —á–∞—Å –Ω–∞ –≤—ñ–¥–ø—Ä–∞–≤–∫—É
    await asyncio.sleep(3)
    await notifier.stop()

asyncio.run(send_test())
```

–ó–∞–ø—É—Å—Ç—ñ—Ç—å:
```bash
python send_test_event.py
```

–í–∏ –ø–æ–≤–∏–Ω–Ω—ñ –æ—Ç—Ä–∏–º–∞—Ç–∏ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –≤ Telegram:
```
üü° [11] (–î—ñ—è): –í–∏—è–≤–ª–µ–Ω–æ –Ω–∞–º—ñ—Ä: –¢–µ—Å—Ç–æ–≤–∞ –ø–æ–¥—ñ—è –≤—ñ–¥ —Å–∏—Å—Ç–µ–º–∏. 
–î—ñ—è: –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ —Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—å–Ω—ñ—Å—Ç—å

[‚úÖ –ü–†–ò–ô–ù–Ø–¢–ò –í–û–õ–Æ] [‚ùå –í–Ü–î–•–ò–õ–ò–¢–ò]
```

## –¢–∏–ø–æ–≤—ñ –ø—Ä–æ–±–ª–µ–º–∏

### ‚ùå "ModuleNotFoundError: No module named 'aiogram'"
**–†—ñ—à–µ–Ω–Ω—è:** `pip install -r requirements.txt`

### ‚ùå "TELEGRAM_BOT_TOKEN must be set"
**–†—ñ—à–µ–Ω–Ω—è:** –°—Ç–≤–æ—Ä—ñ—Ç—å `.env` —Ñ–∞–π–ª –∑ —Ç–æ–∫–µ–Ω–æ–º

### ‚ùå Bot –Ω–µ –Ω–∞–¥—Å–∏–ª–∞—î –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è
**–†—ñ—à–µ–Ω–Ω—è:** 
1. –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ —Ç–æ–∫–µ–Ω
2. –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ Chat ID (–¥–ª—è –∫–∞–Ω–∞–ª—ñ–≤ –º–∞—î –±—É—Ç–∏ –Ω–µ–≥–∞—Ç–∏–≤–Ω–∏–º)
3. –î–ª—è –∫–∞–Ω–∞–ª—ñ–≤: –¥–æ–¥–∞–π—Ç–µ –±–æ—Ç–∞ —è–∫ –∞–¥–º—ñ–Ω—ñ—Å—Ç—Ä–∞—Ç–æ—Ä–∞

### ‚ùå "RuntimeError: Event loop is closed"
**–†—ñ—à–µ–Ω–Ω—è:** –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ Python 3.9+

## –ù–∞—Å—Ç—É–ø–Ω—ñ –∫—Ä–æ–∫–∏

1. ‚úÖ –ë–∞–∑–æ–≤–∞ —ñ–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—è –ø—Ä–∞—Ü—é—î
2. üìù –ù–∞–ª–∞—à—Ç—É–π—Ç–µ –º–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥ —Ä–µ–∞–ª—å–Ω–∏—Ö –ø–æ–¥—ñ–π
3. üé® –î–æ–¥–∞–π—Ç–µ –≤—ñ–∑—É–∞–ª—å–Ω—ñ –∞–∫—Ç–∏–≤–∏ –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ–π `media`
4. üîß –Ü–Ω—Ç–µ–≥—Ä—É–π—Ç–µ –∑ `IntentObserver`
5. üìä –ù–∞–ª–∞—à—Ç—É–π—Ç–µ dashboard –¥–ª—è –∞–Ω–∞–ª—ñ—Ç–∏–∫–∏

## –î–æ–¥–∞—Ç–∫–æ–≤–∞ —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—è

- üìñ –ü–æ–≤–Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è: `docs/Cimeika/cit-voice.md`
- üêõ Issues: [github.com/Ihorog/ciwiki/issues](https://github.com/Ihorog/ciwiki/issues)
- üí° –ü—Ä–∏–∫–ª–∞–¥–∏: `test_cit_voice.py`

---

**–°—Ç–∞—Ç—É—Å**: ‚úÖ –ì–æ—Ç–æ–≤–æ –¥–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è  
**–í–µ—Ä—Å—ñ—è**: 1.0.0  
**–î–∞—Ç–∞**: 2026-01-25
